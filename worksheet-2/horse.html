<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="layoutHorse.css">
</head>

<body style="text-align: center;">
    <div class="header">
        <h2>Worksheet 2 - Horse</h2>
    </div>
    <div style="text-align: center;">
        <canvas id="gl-canvas" width="700" height="700">
            Oops ... your browser doesn't support the HTML5 canvas element
        </canvas>
    </div>
    <button id="run" style="background-color: chocolate; padding-block: 10px; padding-inline: 10px;">
        <span style="font-size: 1.5rem; color: yellow;">Start Run Animation</span>
    </button>
    <div class="footer">
        <h2>Fathan Muhammad - 2006486090</h2>
        <h2>Razita Afrina Nuriyan - 2006529360</h2>
        <h2>Grafika Komputer - Fasilkom UI</h2>
    </div>

    <script id="vertex-shader" type="x-shader/x-vertex">
        #version 300 es

        in vec4 aPosition;
        in vec3 aNormal;

        out vec4 vColor;

        uniform mat4 modelViewMatrix;
        uniform mat4 projectionMatrix;

        uniform vec4 uLightPosition;
        uniform float uShininess;
        uniform mat3 uNormalMatrix;
        uniform vec4 uAmbientProduct, uDiffuseProduct, uSpecularProduct;

        void main()
        {

            vec3 pos = -(modelViewMatrix * aPosition).xyz;

            //fixed light postion

            vec3 light = uLightPosition.xyz;
            vec3 L = normalize(light - pos);


            vec3 E = normalize(-pos);
            vec3 H = normalize(L + E);

            vec4 NN = vec4(aNormal,0);

            // Transform vertex normal into eye coordinates

            vec3 N = normalize((modelViewMatrix*NN).xyz);


            // Compute terms in the illumination equation
            vec4 ambient = uAmbientProduct;

            float Kd = max( dot(L, N), 0.0 );
            vec4 diffuse = Kd*uDiffuseProduct;

            float Ks = pow( max(dot(N, H), 0.0), uShininess );
            vec4 specular = Ks * uSpecularProduct;

            if( dot(L, N) < 0.0 ) {
                specular = vec4(0.0, 0.0, 0.0, 1.0);
            }

            gl_Position = projectionMatrix * modelViewMatrix * aPosition;

            vColor = ambient + diffuse +specular;

            vColor.a = 1.0;
        }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
        #version 300 es

    precision mediump float;

    in vec4 vColor;
    out vec4 fColor;

    void main()
    {
        fColor = vColor;

    }
    </script>

    <script src="Common/InitShaders.js"></script>
    <script src="Common/MVnew.js"></script>
    <script src="horse.js"></script>

</body>

</html>